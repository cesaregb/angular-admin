<div class="modal-header">
  <h3 class="modal-title">Historial de Orden {{}}</h3>
</div>
<div class="modal-body">
  <div class="row">
    <div class="col-md-12">
      <div class="form-group">
        <label>Cliente</label>
        <p class="form-control-static">{{order.client.fullName}}</p>
      </div>
      <div class="form-group">
        <label>Orden</label>
        <p class="form-control-static">{{order.idOrder}}</p>
      </div>
    </div>
  </div>
  <div class="row ">
    <div class="col-md-12">
      <h4>Tareas de Orden</h4>
      <table class="table table-striped table-bordered table-hover dataTable no-footer"
             role="grid"
             aria-describedby="dataTables-example_info">
        <thead>
        <tr role="row">
          <th>Tarea</th>
          <th>Fecha Inicio</th>
          <th>Fecha Termino</th>
          <th>Estado</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-show="order.orderTasks.length == 0">
          <td colspan="5">No se encontro ningun resultado</td>
        </tr>
        <tr role="row"
            ng-class-odd="'odd'"
            ng-class-even="'even'"
            ng-repeat="task in order.orderTasks">
          <td>{{task.taskName}}</td>
          <td>{{task.started | date:'yyyy-MM-dd HH:mm:ss' }}</td>
          <td>{{task.ended | date:'yyyy-MM-dd HH:mm:ss'}}</td>
          <td>
            <span ng-show="task.status == 2">Terminada</span>
            <span ng-show="task.status == 1">Procesando</span>
            <span ng-show="task.status == 0">Pendiente</span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row" ng-repeat="service in order.services">
    <div class="col-md-12">
      <h4>Tareas de Servicio: {{service.name}}</h4>
      <table class="table table-striped table-bordered table-hover dataTable no-footer"
             role="grid"
             aria-describedby="dataTables-example_info">
        <thead>
        <tr role="row">
          <th>Tarea</th>
          <th>Fecha Inicio</th>
          <th>Fecha Termino</th>
          <th>Estado</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-show="service.serviceTasks.length == 0">
          <td colspan="5">No se encontro ningun resultado</td>
        </tr>
        <tr role="row"
            ng-class-odd="'odd'"
            ng-class-even="'even'"
            ng-repeat="task in service.serviceTasks">
          <td>{{task.taskName}}</td>
          <td>{{task.started | date:'yyyy-MM-dd HH:mm:ss' }}</td>
          <td>{{task.ended | date:'yyyy-MM-dd HH:mm:ss'}}</td>
          <td>
            <span ng-show="task.status == 2">Terminada</span>
            <span ng-show="task.status == 1">Procesando</span>
            <span ng-show="task.status == 0">Pendiente</span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
<div class="modal-footer">
  <button class="btn btn-warning" type="button" ng-click="cancel()">Cerrar</button>
</div>

